!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}({10:function(e,t,n){"use strict";jQuery((function(e){e.fn.imageMediaControl=function(){this.each((function(){var t=e(this),n={frame:function(){return this._frame||(this._frame=wp.media({title:t.data("title"),library:{type:t.data("type")},button:{text:t.data("button")},multiple:!1,selection:[]}),this._frame.on("open",this.updateFrame).state("library").on("select",this.select)),this._frame},select:function(){var e=t.find(".attachment-input"),n=this.get("selection").pluck("id");e.val(n).trigger("change")},updateFrame:function(){},init:function(){var i=t.find(".file-wrapper"),a=t.find(".attachment-input"),s=t.find(".add-media"),o=t.find(".remove-avatar");s.on("click",(function(e){e.preventDefault(),n.frame().open()})),o.on("click",(function(e){e.preventDefault(),a.val("").trigger("change")})),a.on("change",(function(n){n.preventDefault();var a=t.find(".attachment-input").val();a?(s.text(t.data("button-replace-text")),o.show(),wp.media.attachment(a).fetch().then((function(t){i.fadeOut(400,(function(){var n=t.url;_.findKey(t,"thumbnail")&&(n=t.sizes.thumbnail.url),e(this).html('<img width="150" height="150" src="'+n+'"/>').fadeIn(400)}))}))):(i.hide(),o.hide(),s.text(t.data("button-add-text")))})).trigger("change")}};n.frame().on("open",(function(){var e=t.find(".attachment-input"),i=n.frame(),a=i.state().get("selection"),s=e.val(),o=wp.media.attachment(s);i.reset(),o.id&&a.add(o)})),n.init()}))},e(".zoom-instagram-user-avatar-media-uploader").imageMediaControl(),e(".wpzoom-instagram-widget-settings-request-type-wrapper").find("input[type=radio]").on("change",(function(t){t.preventDefault();var n=e(this).val(),i=["with-access-token","with-basic-access-token","without-access-token"].filter((function(e){return e!==n})),a=e(this).closest(".form-table");a.find(".wpzoom-instagram-widget-"+n+"-group").show(),i.forEach((function(e){a.find(".wpzoom-instagram-widget-"+e+"-group").hide()}))})),e(".wpzoom-instagram-widget-settings-request-type-wrapper").find("input[type=radio]:checked").change(),window.opener&&window.location.hash.length>1&&window.location.hash.includes("access_token")&&(window.opener.handleReturnedToken(window.location.hash),window.close()),e("#screen-meta #wpz-insta_account-photo-hide, #screen-meta #wpz-insta_account-bio-hide, #screen-meta #wpz-insta_account-token-hide, #screen-meta #wpz-insta_actions-hide").closest("label").remove(),e("#title").length>0&&(e("#title").attr("size",e("#title").val().trim().length+3),e("#title").on("input",(function(){e(this).attr("size",e(this).val().trim().length+3)}))),e(".wpz-insta_feed-edit-nav").length>0&&(window.location.hash&&n(window.location.hash),e(".wpz-insta_feed-edit-nav a").on("click",(function(){n(e(this).attr("href"))}))),e("#wpz-insta_show-pro").on("change",(function(t){t.preventDefault(),e(this).closest(".wpz-insta_sidebar").toggleClass("show-pro",this.checked)})),e(".wpz-insta-wrap .account-options .account-option-button").on("click",(function(t){var n,i,a;t.preventDefault(),e(this).is(".disabled")||(e(this).is("#wpz-insta_connect-personal")||e(this).is("#wpz-insta_connect-business")?(n=e(this).attr("href"),i=(window.screen.height-500)/2,a=(window.screen.width-700)/2,window.open(n,"","width=700,height=500,left="+a+",top="+i)):e(this).is("#wpz-insta_account-token-button")&&window.handleReturnedToken("access_token="+e("#wpz-insta_account-token-input").val().trim()))})),e("#wpz-insta_account-token-input").on("input",(function(){e("#wpz-insta_account-token-button").toggleClass("disabled",e("#wpz-insta_account-token-input").val().trim().length<=0)})),e("#wpz-insta_modal-dialog").find(".wpz-insta_modal-dialog_ok-button, .wpz-insta_modal-dialog_close-button").on("click",(function(t){var n;t.preventDefault(),n=e("#wpz-insta_modal-dialog").hasClass("success"),e("#wpz-insta_modal-dialog").removeClass("open"),n&&window.location.replace(zoom_instagram_widget_admin.feeds_url)})),e("#wpz-insta_feed-user-select-btn").on("click",(function(t){t.preventDefault(),e("#wpz-insta_tabs-config-cnnct").removeClass("active").addClass("active").prev(".wpz-insta_sidebar").removeClass("active"),e("#wpz-insta_tabs-config-cnnct").closest(".wpz-insta_tabs-content").find("> .wpz-insta_sidebar").addClass("hide")})),e("#wpz-insta_feed-user-remove-btn").on("click",(function(t){t.preventDefault();var n=e("#wpz-insta_feed-user-select-btn").closest(".wpz-insta_feed-user-select"),i=n.find(".wpz-insta_feed-user-select-info");e("#wpz-insta_user-id").val("-1").trigger("change"),e("#wpz-insta_user-token").val("-1").trigger("change"),e("#wpz-insta_user-token, #wpz-insta_check-new-posts-interval-number, #wpz-insta_enable-request-timeout").closest(".wpz-insta_sidebar-section").removeClass("active"),n.removeClass("is-set"),i.find(".wpz-insta_feed-user-select-info-name").html("None"),i.find(".wpz-insta_feed-user-select-info-type").html("None"),n.closest(".wrap").find(".wpz-insta_settings-header .wpz-insta_feed-edit-nav li:not(:first-child)").addClass("disable")})),e("#wpz-insta_tabs-config-cnnct .wpz-insta_tabs-config-connect-accounts li").on("click",(function(t){t.preventDefault();var n=e("#wpz-insta_feed-user-select-btn").closest(".wpz-insta_feed-user-select"),i=n.find(".wpz-insta_feed-user-select-info");e("#wpz-insta_user-id").val(e(this).data("user-id")).trigger("change"),e("#wpz-insta_user-token").val(e(this).data("user-token")).trigger("change"),e("#wpz-insta_user-token, #wpz-insta_check-new-posts-interval-number, #wpz-insta_enable-request-timeout").closest(".wpz-insta_sidebar-section").addClass("active"),n.addClass("is-set"),i.find(".wpz-insta_feed-user-select-info-name").html(e(this).data("user-name")),i.find(".wpz-insta_feed-user-select-info-type").html(e(this).data("user-type")),n.closest(".wrap").find(".wpz-insta_settings-header .wpz-insta_feed-edit-nav li").removeClass("disable"),n.find(".wpz-insta_feed-user-select-edit-link").attr("href",zoom_instagram_widget_admin.edit_user_url+e(this).data("user-id")),e("#wpz-insta_tabs-config-cnnct").removeClass("active").prev(".wpz-insta_sidebar").addClass("active"),e("#wpz-insta_tabs-config-cnnct").closest(".wpz-insta_tabs-content").find("> .wpz-insta_sidebar").removeClass("hide")}));var t={};function n(t){if(t){var n=e('.wpz-insta_feed-edit-nav a[href="'+t+'"]'),i=n.closest("form").find(".wpz-insta_tabs-content .wpz-insta_sidebar-left-section");n.closest(".wpz-insta_feed-edit-nav").find("li").removeClass("active"),n.closest("li").addClass("active"),i.removeClass("active"),i.filter('[data-id="'+t+'"]').addClass("active")}}function i(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(n,s)}),i)}}e("form#post #title, form#post .wpz-insta_tabs-content > .wpz-insta_sidebar > .wpz-insta_sidebar-left").find("input, textarea, select").not(".preview-exclude").each((function(t){e(this).data("uid",t)})),e("form#post #title, form#post .wpz-insta_tabs-content > .wpz-insta_sidebar > .wpz-insta_sidebar-left").on("input change",i((function(n){var i=e(n.target);if(!i.is(".preview-exclude")){var a=i.data("uid");i.val()!=i[0].defaultValue?a in t||(t[a]=!0):a in t&&delete t[a],e("input#publish").toggleClass("disabled",e.isEmptyObject(t)),window.wpzInstaReloadPreview()}}),300)),e((function(){window.wpzInstaReloadPreview()})),e("#wpz-insta_widget-preview-links .wpz-insta_widget-preview-header-link").on("click",(function(){e(this).hasClass("active")||(e(this).addClass("active").siblings(".wpz-insta_widget-preview-header-link").removeClass("active"),e(this).closest(".wpz-insta_widget-preview").find(".wpz-insta_widget-preview-view").removeClass("wpz-insta_widget-preview-size-desktop wpz-insta_widget-preview-size-tablet wpz-insta_widget-preview-size-mobile").addClass(e(this).hasClass("wpz-insta_widget-preview-header-links-tablet")?"wpz-insta_widget-preview-size-tablet":e(this).hasClass("wpz-insta_widget-preview-header-links-mobile")?"wpz-insta_widget-preview-size-mobile":"wpz-insta_widget-preview-size-desktop"))})),e(".wpz-insta_color-picker").wpColorPicker({change:function(t,n){e(t.target).closest("form#post").find(".wpz-insta_tabs-content > .wpz-insta_sidebar > .wpz-insta_sidebar-left").triggerHandler("change")}}),e("#wpz-insta_shortcode").on("focus",(function(t){t.preventDefault(),e(this).select()})),e("#wpz-insta_shortcode-copy-btn").on("click",i((function(){(function(e){if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(e);var t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),new Promise((function(e,n){document.execCommand("copy")?e():n(),t.remove()}))})(e("#wpz-insta_shortcode").val()).then((function(){e("#wpz-insta_shortcode-copy-btn").addClass("success"),clearTimeout(void 0),setTimeout((function(){e("#wpz-insta_shortcode-copy-btn").removeClass("success")}),3e3)}))}),300)),window.handleReturnedToken=function(t){if(t&&t.length>1&&("#"===t[0]&&(t=t.substring(1)),t.length>1)){var n=function(e){for(var t={},n=("?"===e[0]?e.substr(1):e).split("&"),i=0;i<n.length;i++){var a=n[i].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]||"")}return t}(t);if("access_token"in n){var i=n.access_token;e.post(ajaxurl,{action:"wpz-insta_connect-user",nonce:zoom_instagram_widget_admin.nonce,token:i}).done((function(t){var n,i,a,s;i=(n=t.success)?zoom_instagram_widget_admin.i18n_connect_success_title:zoom_instagram_widget_admin.i18n_connect_fail_title,a=n?zoom_instagram_widget_admin.i18n_connect_success_content:zoom_instagram_widget_admin.i18n_connect_fail_content,(s=e("#wpz-insta_modal-dialog")).find(".wpz-insta_modal-dialog_header-title").html(i),s.find(".wpz-insta_modal-dialog_content").html(a),s.removeClass("open success fail").addClass("open "+(n?"success":"fail"))}))}}},window.wpzInstaReloadPreview=function(){var t=zoom_instagram_widget_admin.preview_url,n=e.param(e("form#post #title, form#post .wpz-insta_tabs-content > .wpz-insta_sidebar > .wpz-insta_sidebar-left").find("input, textarea, select").not(".preview-exclude").serializeArray());n&&(t+="&"+n),e("#wpz-insta_widget-preview-view iframe").attr("src",t)}}))}});